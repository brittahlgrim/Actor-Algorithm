package main.java.ActorAlgorithm;

/*
 * Most of the following code is taken from this Stack Overflow post:
 * http://stackoverflow.com/questions/4308554/simplest-way-to-read-json-from-a-url-in-java
 */
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.net.URL;
import java.nio.charset.Charset;

import javax.json.*;


public class APIService {
	  public static JsonObject readJsonFromUrl(String url) throws IOException, JsonException {
	    InputStream is = new URL(url).openStream();
	    try {
	      JsonReaderFactory factory = Json.createReaderFactory(null);
	      JsonReader reader1 = factory.createReader(new InputStreamReader(is, Charset.forName("UTF-8")));
	      JsonObject json = reader1.readObject();
	      
	      return json;
	    } finally {
	      is.close();
	    }
	  }

	  public static void main(String[] args) throws IOException, JsonException {
	    JsonObject json = readJsonFromUrl("https://graph.facebook.com/19292868552");
	    System.out.println(json.toString());
	    System.out.println(json.get("id"));
	  }
}
